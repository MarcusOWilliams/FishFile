{% extends "base.html" %}

{%block scripts%}
    <script>
        function showPassword(field_id, icon_id) {
            var x = document.getElementById(field_id);
            if (x.type === "password") {
              x.type = "text";
              document.getElementById(icon_id).innerHTML= '<i class="bi bi-eye-slash-fill"></i>'
            } else {
              x.type = "password";
              document.getElementById(icon_id).innerHTML= '<i class="bi bi-eye-fill"></i>'
            }
          }
    </script>
{%endblock%}

{% block content %}
    <h2>Change Password</h2>
    <form action="" method="post">
        {{ form.hidden_tag() }}
        <p>
            {{form.old_password.label}}
            {{form.old_password}}
            <span onclick="showPassword('old_password', 'old_icon')" id="old_icon">
                <i class="bi bi-eye-fill"></i>
            </span>
            {% for error in form.old_password.errors %}
                <span class = "formError">{{ error }}</span>
            {% endfor %}
        </p>
        <p>
            {{form.new_password.label}}
            {{form.new_password}}
            <span onclick="showPassword('new_password', 'new_icon')" id="new_icon">
                <i class="bi bi-eye-fill"></i>
            </span><br>
            {% for error in form.new_password.errors %}
                <span class = "formError">{{ error }}</span>
            {% endfor %}
        </p>
        <p>
            {{form.new_password2.label}}
            {{form.new_password2}}
            <span onclick="showPassword('new_password2', 'new_icon2')" id="new_icon2">
                <i class="bi bi-eye-fill"></i>
            </span><br>
            {% for error in form.new_password2.errors %}
                <span class = "formError">{{ error }}</span>
            {% endfor %}
        </p>
        {{form.submit()}}
    </form>
{% endblock %}